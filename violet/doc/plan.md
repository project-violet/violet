# Plan

## download inverse dependency

다운로드 위젯은 다운로드 아이템의 상태를 관리하며, 다운로드에 다운로드할 파일들을 요청하는 역할을 수행한다.

현재 `isolate_downloader`는 `download_item_widget`에 의존하고 있다.
즉 다운로드 위젯이 다운로드에서 현황을 가져오는 방식이 아닌 다운로더에서 다운로드 위젯에게 이벤트를 호출하는 방식으로 구현되었다. 이것의 문제점은 다운로드 위젯의 상태가 변경되었거나, dispose되어 deactivate되었을 때 ui를 업데이트 할 수 있는 방법이 없음을 뜻한다. 기존 다운로드 아이템이 새로운 다운로드 위젯으로 마이그레이션되어도 다운로드는 계속 진행되지만, 다운로드가 지속되는 상황을 다운로드 위젯은 알 수 없다. 따라서 다운로드 위젯이 다운로더로부터 다운로드 현황 정보를 가져오는 것이 구현에 적절하며, 이를 구현하기 위한 방안이 필요하다.